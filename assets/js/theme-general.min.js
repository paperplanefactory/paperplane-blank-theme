function detectReducedTransparencySupport(){const e=/Mac|iPad|iPhone|iPod/.test(navigator.userAgent),t=window.matchMedia("(-apple-prefers-reduced-transparency: reduce)"),n=window.matchMedia("(prefers-reduced-transparency: reduce)");if(e){const e=t.matches||n.matches;return e}return!1}function saveArrayToLocalStorage(e,t){localStorage.setItem(e,JSON.stringify(t))}function saveUserPreferences(e){saveArrayToLocalStorage(PREFERENCES_KEY,e);const t=addHours(new Date,8760);document.cookie=PREFERENCES_KEY+"="+JSON.stringify(e)+"; expires="+t+"; path=/"}function addHours(e,t){return e.setTime(e.getTime()+60*t*60*1e3),e}function userSetAccessibility(){const e=JSON.parse(localStorage.getItem(PREFERENCES_KEY)),t=null!==localStorage.getItem(PREFERENCES_KEY);Object.keys(e).forEach(function(n){if("reduced_motion"==n){const a=0==e[n]||!t&&ACCESSIBILITY_CONFIG.autoApplySystemPreferences.reducedMotion&&systemPreferences.isReduced;a?(document.documentElement.setAttribute("data-reduced-motion","true"),document.querySelectorAll(".stoppable-js").forEach(e=>{e.pause&&e.pause()}),document.querySelectorAll(".animation-play-pause-js").forEach(e=>{e.classList.remove("pause"),e.classList.add("play"),e.setAttribute("aria-pressed","false")}),document.querySelectorAll(".paperplane-reduce-motion-js").forEach(e=>{e.setAttribute("aria-checked","false")}),animation_duration=0,animation_duration_counter=0):(document.documentElement.removeAttribute("data-reduced-motion"),document.querySelectorAll(".stoppable-js").forEach(e=>{e.play&&e.play()}),document.querySelectorAll(".animation-play-pause-js").forEach(e=>{e.classList.add("pause"),e.classList.remove("play"),e.setAttribute("aria-pressed","true")}),document.querySelectorAll(".paperplane-reduce-motion-js").forEach(e=>{e.setAttribute("aria-checked","true")}),animation_duration=500,animation_duration_counter=1500)}if("reduced_transparency"==n){const t=1==e[n]||systemPreferences.prefersHighContrast||systemPreferences.prefersReducedTransparency;t?(document.documentElement.setAttribute("data-reduced-transparency","true"),document.querySelectorAll(".paperplane-reduce-transparency-js").forEach(e=>{e.setAttribute("aria-checked","true")})):(document.documentElement.removeAttribute("data-reduced-transparency"),document.querySelectorAll(".paperplane-reduce-transparency-js").forEach(e=>{e.setAttribute("aria-checked","false")}))}if("dark_mode"==n){const a=1==e[n]||!t&&ACCESSIBILITY_CONFIG.autoApplySystemPreferences.darkMode&&systemPreferences.prefersDarkMode;a?(document.documentElement.setAttribute("data-theme","dark"),document.querySelectorAll(".paperplane-darkmode-js").forEach(e=>{e.setAttribute("aria-checked","true")})):(document.documentElement.setAttribute("data-theme","light"),document.querySelectorAll(".paperplane-darkmode-js").forEach(e=>{e.setAttribute("aria-checked","false")}))}})}function acessibilityPanelHide(){const e=window.scrollY||window.pageYOffset,t=document.querySelectorAll(".reduce-motion-overlay-js");e>200?t.forEach(e=>e.classList.add("hidden")):t.forEach(e=>e.classList.remove("hidden"))}function initInfiniteScroll(){if(document.querySelector(".nav-next a")){const e=new InfiniteScroll(".grid-infinite",{path:".nav-next a",append:".grid-item-infinite",status:"#infscr-loading",prefill:!0,loadOnScroll:!1,history:!1,button:".view-more-button-js",scrollThreshold:!1,checkLastPage:!0});e.on("append",function(e,t,n,a){AOS.refreshHard()}),window.setInterval(function(){const e=document.querySelector(".infinite-scroll-last"),t=document.querySelector("#infscr-loading");e&&null!==e.offsetParent&&t&&(t.style.display="none")},3e3)}}function manipulateContent(e){document.querySelectorAll(".content-styled iframe").forEach(function(e){var t=document.createElement("div");t.className="video-frame",e.parentNode.insertBefore(t,e),t.appendChild(e)}),document.querySelectorAll("img.alignnone").forEach(function(e){if(!e.closest(".wp-caption")){var t=document.createElement("div");t.className="wp-caption alignnone",e.parentNode.insertBefore(t,e),t.appendChild(e)}}),document.querySelectorAll("img.aligncenter").forEach(function(e){if(!e.closest(".wp-caption")){var t=document.createElement("div");t.className="wp-caption aligncenter",e.parentNode.insertBefore(t,e),t.appendChild(e)}}),document.querySelectorAll("img.alignleft").forEach(function(e){var t=document.createElement("div");t.className="wp-caption alignleft",e.parentNode.insertBefore(t,e),t.appendChild(e)}),document.querySelectorAll("img.alignright").forEach(function(e){var t=document.createElement("div");t.className="wp-caption alignright",e.parentNode.insertBefore(t,e),t.appendChild(e)})}function scrollDirectionMenu(){MenuManager&&MenuManager.scrollDirectionMenu()}function adjustCaptionWidths(){const e=document.querySelectorAll(".slick-slide.slick-active");e.forEach(e=>{const t=e.querySelector(".slide img"),n=e.querySelector(".slide-caption");if(t&&n){const e=t.offsetWidth;n.style.width=`${e}px`,n.classList.remove("hidden")}})}function numbersCounter(){const e=document.querySelectorAll(".count");if(e.length>0)if(animation_duration_counter>0){const t=window.innerHeight/1.2,n=window.scrollY;e.forEach(e=>{const a=parseInt(e.getAttribute("data-bar-number"),10),o=e.getBoundingClientRect().top+n,s=o-n;if(s<t&&parseInt(e.textContent,10)<a){let t=parseInt(e.textContent,10)||0;const n=()=>{t<a?(t++,e.textContent=Math.ceil(t),t<a-2?e.classList.add("blurred-counter"):e.classList.remove("blurred-counter"),requestAnimationFrame(n)):e.classList.remove("blurred-counter")};n()}})}else e.forEach(e=>{const t=parseInt(e.getAttribute("data-bar-number"),animation_duration_counter);e.textContent=t})}function fadeOut(e,t){e.style.opacity=1;var n=performance.now();requestAnimationFrame(function a(o){var s=o-n,r=1-s/t;if(r<=0)return e.style.opacity=0,void(e.style.display="none");e.style.opacity=r,requestAnimationFrame(a)})}function clearOverlayScroll(){var e=window.innerWidth;document.getElementById("head-overlay").classList.contains("hidden")||(e>1023?(document.documentElement.style.overflow="visible",document.body.style.overflow="visible"):(document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden"))}const lang_get=document.documentElement.lang||"default",lang=lang_get.split("-")[0].toLowerCase(),ACCESSIBILITY_CONFIG={autoApplySystemPreferences:{reducedMotion:!1,darkMode:!1,highContrast:!1,reducedTransparency:!1}},systemPreferences={isReduced:window.matchMedia("(prefers-reduced-motion: reduce)").matches,prefersDarkMode:window.matchMedia("(prefers-color-scheme: dark)").matches,prefersHighContrast:window.matchMedia("(prefers-contrast: more)").matches,prefersReducedTransparency:detectReducedTransparencySupport()},PREFERENCES_KEY="paperplane_user_preferences",isReduced=!!ACCESSIBILITY_CONFIG.autoApplySystemPreferences.reducedMotion&&systemPreferences.isReduced;if(isReduced){document.documentElement.setAttribute("data-reduced-motion","true"),document.querySelectorAll(".stoppable-js").forEach(e=>{e.pause()}),document.querySelectorAll(".animation-play-pause-js").forEach(e=>{e.classList.remove("pause"),e.classList.add("play"),e.setAttribute("aria-pressed","false")});var animation_duration=0,animation_duration_counter=0;document.querySelectorAll(".paperplane-reduce-motion-js").forEach(e=>{e.setAttribute("aria-checked","false")})}else;if(ACCESSIBILITY_CONFIG.autoApplySystemPreferences.darkMode&&systemPreferences.prefersDarkMode&&document.documentElement.setAttribute("data-theme","dark"),(ACCESSIBILITY_CONFIG.autoApplySystemPreferences.highContrast&&systemPreferences.prefersHighContrast||ACCESSIBILITY_CONFIG.autoApplySystemPreferences.reducedTransparency&&systemPreferences.prefersReducedTransparency)&&document.documentElement.setAttribute("data-reduced-transparency","true"),null!=localStorage.getItem(PREFERENCES_KEY)){const e=new Date,t=JSON.parse(localStorage.getItem(PREFERENCES_KEY));Object.keys(t).forEach(function(n){"expiry"==n&&e.getTime()>t[n]&&localStorage.removeItem(PREFERENCES_KEY)})}if(null===localStorage.getItem(PREFERENCES_KEY)){const e=addHours(new Date,8760),t=ACCESSIBILITY_CONFIG.autoApplySystemPreferences.reducedMotion&&systemPreferences.isReduced?0:1,n=systemPreferences.prefersHighContrast||systemPreferences.prefersReducedTransparency?1:0,a=ACCESSIBILITY_CONFIG.autoApplySystemPreferences.darkMode&&systemPreferences.prefersDarkMode?1:0,o={expiry:e.getTime(),reduced_motion:t,reduced_transparency:n,dark_mode:a};saveUserPreferences(o)}document.addEventListener("click",function(e){const t=e.target.closest(".paperplane-reduce-motion-js");if(t){const t=JSON.parse(localStorage.getItem(PREFERENCES_KEY));Object.keys(t).forEach(function(e){"reduced_motion"==e&&(t[e]=0===t[e]?1:0)}),saveUserPreferences(t),userSetAccessibility(),e.preventDefault()}}),document.addEventListener("click",function(e){const t=e.target.closest(".paperplane-reduce-transparency-js");if(t){const t=JSON.parse(localStorage.getItem(PREFERENCES_KEY));Object.keys(t).forEach(function(e){"reduced_transparency"==e&&(t[e]=1===t[e]?0:1)}),saveUserPreferences(t),userSetAccessibility(),e.preventDefault()}}),document.addEventListener("click",function(e){const t=e.target.closest(".paperplane-darkmode-js");if(t){const t=JSON.parse(localStorage.getItem(PREFERENCES_KEY));Object.keys(t).forEach(function(e){"dark_mode"==e&&(1==t[e]?(t[e]=0,document.documentElement.setAttribute("data-theme","light")):0==t[e]&&(t[e]=1,document.documentElement.setAttribute("data-theme","dark")))}),saveUserPreferences(t),userSetAccessibility(),e.preventDefault()}}),userSetAccessibility(),window.addEventListener("scroll",acessibilityPanelHide),document.addEventListener("click",function(e){const t=e.target.closest(".animation-play-pause-js");if(t){const n=t.getAttribute("data-video-stop"),a=document.getElementById(n);a&&(a.paused?(a.play(),t.classList.add("pause"),t.classList.remove("play"),t.setAttribute("aria-pressed","true")):(a.pause(),t.classList.remove("pause"),t.classList.add("play"),t.setAttribute("aria-pressed","false"))),e.preventDefault()}}),document.addEventListener("click",function(e){const t=e.target.closest(".animation-stop-js:not(.initialized)");if(t){const n=t.getAttribute("data-video-stop"),a=document.getElementById(n);a&&(t.classList.contains("pause")?(a.classList.remove("animate"),t.classList.add("play"),t.classList.remove("pause"),t.setAttribute("aria-pressed","true")):(a.classList.add("animate"),t.classList.remove("play"),t.classList.add("pause"),t.setAttribute("aria-pressed","false"))),e.preventDefault()}}),setTimeout(function(){document.querySelectorAll(".stoppable-js").forEach(function(e){e.pause()}),document.querySelectorAll(".animation-play-pause-js").forEach(function(e){e.classList.remove("pause"),e.classList.add("play"),e.setAttribute("aria-pressed","false")})},12e4),document.body.addEventListener("keydown",function(e){9===e.keyCode&&document.querySelectorAll("a").forEach(function(e){e.addEventListener("focusin",function(){document.querySelectorAll(".aos-animate").forEach(function(e){e.classList.remove("aos-animate"),e.classList.add("unset-aos-animate")})}),e.addEventListener("focusout",function(){document.querySelectorAll(".unset-aos-animate").forEach(function(e){e.classList.remove("unset-aos-animate"),e.classList.add("aos-animate")})})})}),AOS.init({duration:900,once:!1,mirror:!0}),initInfiniteScroll(),manipulateContent();const MenuUtils={setElementState:function(e,t,n="open"){return t?(e.classList.add(n),e.setAttribute("aria-expanded","true")):(e.classList.remove(n),e.setAttribute("aria-expanded","false")),t},updateNavigationHeights:function(){let e=0;const t=document.getElementById("pre-header"),n=document.getElementById("header");if(t){const n=t.getBoundingClientRect();if(n.bottom>0){const t=n.top<0?n.bottom:n.height;e+=t}}n&&(e+=n.offsetHeight);const a=document.querySelectorAll(".mega-menu-js");a.forEach(t=>{t.style.top=e+"px"});const o=document.getElementById("head-overlay");o&&(o.style.height=`calc(100dvh - ${e}px)`)}},MenuManager={pressedKeys:new Set,lastScrollTop:0,init:function(){this.setupHamburgerMenu(),this.setupMegaMenu(),this.setupSubMenus(),this.setupKeyboardHandlers(),this.setupMenuClosers(),window.addEventListener("scroll",()=>this.scrollDirectionMenu()),window.addEventListener("resize",()=>MenuUtils.updateNavigationHeights()),MenuUtils.updateNavigationHeights()},toggleHamburgerMenu:function(e=!1){const t=document.querySelector("#hamburger-button"),n=document.getElementById("head-overlay"),a=document.querySelector(".scroll-opportunity-overlay-js"),o=document.getElementById("header"),s=document.getElementById("page-content");let r=t.classList.contains("open");if(e&&(r=!0),MenuUtils.setElementState(t,!r,"open"),n.classList.toggle("hidden",r),r)o.classList.remove("fixed"),s&&(s.style.marginTop="0");else if(o.classList.add("fixed"),s){const e=o.offsetHeight;s.style.marginTop=e+"px"}return!r&&a&&(a.scrollTop=0),r?this.updateHeaderBackground():this.closeAllSubMenus(),!r},closeAllSubMenus:function(){document.querySelectorAll(".mega-menu-js").forEach(e=>e.classList.add("hidden")),document.querySelectorAll(".mega-menu-js-trigger").forEach(e=>{e.classList.remove("clicked"),e.setAttribute("aria-expanded","false")}),document.querySelectorAll(".header-menu-js > .menu-item-has-children > .sub-menu-btn").forEach(e=>{e.classList.remove("clicked"),e.setAttribute("aria-expanded","false")}),document.querySelectorAll(".sub-menu").forEach(e=>e.classList.remove("visible")),document.querySelectorAll(".submenu-close-js").forEach(e=>e.classList.remove("active")),this.updateHeaderBackground()},setupHamburgerMenu:function(){const e=document.getElementById("hamburger-button");e&&e.addEventListener("click",()=>this.toggleHamburgerMenu());const t=document.querySelector(".overlay-navi-reset-js");t&&t.addEventListener("focusin",e=>{const t=document.querySelector("#hamburger-button");t&&t.focus(),e.preventDefault()})},setupMegaMenu:function(){document.addEventListener("click",e=>{const t=e.target.closest(".mega-menu-js-trigger");if(!t)return;const n=t.dataset.megamenuOpenId,a=document.querySelector(`.mega-menu-js-${n}-target`),o=(document.getElementById("header"),t.classList.contains("clicked"));document.querySelectorAll(".mega-menu-js-trigger").forEach(e=>{if(e!==t&&e.classList.contains("clicked")){e.classList.remove("clicked"),e.setAttribute("aria-expanded","false");const t=e.dataset.megamenuOpenId,n=document.querySelector(`.mega-menu-js-${t}-target`);n&&n.classList.add("hidden")}}),t.classList.toggle("clicked",!o),t.setAttribute("aria-expanded",!o),a&&a.classList.toggle("hidden",o);const s=document.querySelector(".submenu-close-js");s&&s.classList.toggle("active",!o),this.updateHeaderBackground(),this.toggleHamburgerMenu(!0),MenuUtils.updateNavigationHeights()})},setupSubMenus:function(){document.addEventListener("click",e=>{const t=e.target.closest(".header-menu-js > .menu-item-has-children > .sub-menu-btn");if(!t)return;const n=t.classList.contains("clicked"),a=t.parentElement.querySelector(".sub-menu");t.classList.toggle("clicked",!n),t.setAttribute("aria-expanded",!n),a&&a.classList.toggle("visible",!n),document.querySelectorAll(".submenu-close-js").forEach(e=>{e.classList.toggle("active",!n)}),this.updateHeaderBackground(),this.toggleHamburgerMenu(!0)}),document.addEventListener("click",e=>{const t=e.target.closest(".overlay-menu-mobile-js > .menu-item-has-children > .sub-menu-btn");if(!t)return;const n=t.parentElement.querySelector(".sub-menu"),a=t.classList.contains("clicked");t.classList.toggle("clicked",!a),t.setAttribute("aria-expanded",!a),n&&n.classList.toggle("visible",!a),this.updateHeaderBackground()})},setupKeyboardHandlers:function(){document.addEventListener("keydown",e=>{if(this.pressedKeys.add(e.key),this.pressedKeys.has("p")&&this.pressedKeys.has("Escape")){const e=document.querySelector(".ham-activator-js");e&&e.focus(),this.toggleHamburgerMenu(!0)}if("Escape"===e.key){const e=document.querySelectorAll(".paperplane-modal:not(.hidden)");0===e.length&&this.closeAllSubMenus()}}),document.addEventListener("keyup",e=>{this.pressedKeys.delete(e.key)});const e=document.querySelector("#head-overlay a:last-of-type");e&&e.addEventListener("keydown",e=>{"Tab"!==e.key||e.shiftKey||this.closeAllSubMenus()})},setupMenuClosers:function(){document.addEventListener("click",e=>{e.target.matches(".submenu-close-js")&&this.closeAllSubMenus()}),document.querySelectorAll(".header-menu .mega-menu-js-trigger, .header-menu .sub-menu-btn, .header-menu .simple-link").forEach(e=>{e.addEventListener("focusin",()=>this.closeAllSubMenus())})},scrollDirectionMenu:function(){var e=window.scrollY;this.updateHeaderBackground(e),this.lastScrollTop=e,MenuUtils.updateNavigationHeights()},updateHeaderBackground:function(e){const t=document.getElementById("header");if(!t)return;const n=void 0!==e?e:window.scrollY,a=document.querySelector(".mega-menu-js-trigger.clicked")||document.querySelector(".header-menu-js > .menu-item-has-children > .sub-menu-btn.clicked")||document.querySelector("#hamburger-button.open");n>200||a?t.classList.add("backgrounded"):t.classList.remove("backgrounded")}};if(document.addEventListener("DOMContentLoaded",()=>{MenuManager.init()}),document.addEventListener("click",function(e){const t=e.target.closest(".modal-open-js");if(t){const n=t.dataset.modalId,a=t.dataset.modalBackTo;localStorage.setItem("modal_back_to",a);const o=document.getElementById(`paperplane-modal-js-${n}`);o.classList.remove("hidden");const s=o.querySelectorAll('button, a, input:not([type=hidden]), select, textarea, [tabindex]:not([tabindex="-1"])');s.length>0&&setTimeout(function(){s[1]?s[1].focus():s[0].focus()},50),document.documentElement.style.overflow="hidden",MenuManager.toggleHamburgerMenu(!0),e.preventDefault()}}),document.addEventListener("click",function(e){const t=e.target.closest(".modal-close-js");if(t){const n=t.dataset.modalId,a=localStorage.getItem("modal_back_to"),o=document.getElementById(`paperplane-modal-js-${n}`);o.classList.add("hidden"),document.documentElement.style.overflow="visible",setTimeout(function(){document.querySelector(`.${a}`).focus()},50),e.preventDefault()}}),document.querySelectorAll(".paperplane-modal").forEach(function(e){function t(e){if("Escape"===e.key){const e=localStorage.getItem("modal_back_to"),t=document.getElementById(`paperplane-modal-js-${o}`);t.classList.add("hidden"),t.setAttribute("aria-hidden","true"),document.documentElement.style.overflow="visible",setTimeout(()=>{document.querySelector(`.${e}`).focus()},50)}}function n(e){e.shiftKey&&"Tab"===e.key&&(s[s.length-1].focus(),e.preventDefault())}function a(e){e.shiftKey||"Tab"!==e.key||(s[0].focus(),e.preventDefault())}const o=e.dataset.modalId,s=e.querySelectorAll('button:not([hidden]), a, input:not([type=hidden]), select, textarea, [tabindex]:not([tabindex="-1"])');e.addEventListener("keydown",t),e.addEventListener("keydown",t),s.length>0&&(s[0].addEventListener("keydown",n),s[s.length-1].addEventListener("keydown",a))}),window.location.hash){var hash=window.location.hash,pattern=/modal-focus-/,exists=pattern.test(hash);if(exists){var modal_open_id=hash.substring(13,hash.length);document.querySelector(".paperplane-modal-js-"+modal_open_id).classList.remove("hidden"),setTimeout(function(){document.querySelector(".modal-focus-"+modal_open_id).focus()},50),document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden"}}const slider=document.querySelector(".slider-images-js"),nextButton=document.querySelector(".slide-next-slider-single-js"),prevButton=document.querySelector(".slide-prev-slider-single-js");"it"===lang?(nextSlideLabel="Slide successiva",prevSlideLabel="Slide precedente"):(nextSlideLabel="Next slide",prevSlideLabel="Previous slide"),slider&&(slider.addEventListener("init",function(){AOS.refresh()}),slider.addEventListener("reInit",function(){AOS.refresh()}),$(".slider-images-js").slick({focusOnSelect:!1,draggable:!0,infinite:!0,accessibility:!0,adaptiveHeight:!1,slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!0,variableWidth:!0,nextArrow:'<button class="slick-next element-icon-after"><span class="screen-reader-text" aria-hiden="true">'+nextSlideLabel+"</span></button>",prevArrow:'<button class="slick-prev element-icon-after"><span class="screen-reader-text" aria-hiden="true">'+prevSlideLabel+"</span></button>",responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1}}]})),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".slider-images-js");e&&"function"==typeof $(e).slick&&($(e).on("init reInit afterChange",function(){setTimeout(adjustCaptionWidths,50)}),document.querySelectorAll(".slick-initialized").length>0&&setTimeout(adjustCaptionWidths,50)),setTimeout(adjustCaptionWidths,500)}),window.addEventListener("resize",function(){setTimeout(adjustCaptionWidths,100)}),window.addEventListener("load",function(){setTimeout(adjustCaptionWidths,100)}),document.addEventListener("click",function(e){const t=e.target;if(t.matches(".click-hide")){const n=t.nextElementSibling;if(n&&n.classList.contains("hide-me")){n.classList.toggle("hidden-label");const e=n.classList.contains("hidden-label");t.textContent=e?"+":"-"}e.preventDefault()}});const expanders=document.querySelectorAll(".expander");expanders.forEach(e=>{e.addEventListener("mouseenter",()=>{const t=e.closest(".expanding-block");t&&t.classList.add("hovered")}),e.addEventListener("mouseleave",()=>{const t=e.closest(".expanding-block");t&&t.classList.remove("hovered")})}),expanders.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=e.dataset.expandId,a=document.getElementById(`expand-button-${n}`),o=document.getElementById(`expand-content-${n}`),s=document.getElementById(`expand-close-button-${n}`);a.classList.contains("exp-close")?(a.classList.remove("exp-close"),a.classList.add("exp-open"),a.setAttribute("aria-expanded","false"),o.classList.remove("visible"),s.setAttribute("aria-expanded","false"),s.tabIndex=-1,s.setAttribute("aria-hidden","true")):(a.classList.remove("exp-open"),a.classList.add("exp-close"),a.setAttribute("aria-expanded","true"),o.classList.add("visible"),s.setAttribute("aria-expanded","true"),s.removeAttribute("tabindex"),s.removeAttribute("aria-hidden"))})});const expandersClose=document.querySelectorAll(".expander-closer");expandersClose.forEach(e=>{e.addEventListener("click",t=>{const n=e.dataset.expandId,a={button:document.getElementById(`expand-button-${n}`),content:document.getElementById(`expand-content-${n}`),closeButton:document.getElementById(`expand-close-button-${n}`)};a.content.classList.remove("visible"),a.button.classList.toggle("exp-open"),a.button.classList.toggle("exp-close"),a.button.setAttribute("aria-expanded","false"),a.closeButton.setAttribute("aria-expanded","false")})}),window.addEventListener("DOMContentLoaded",()=>{const e=window.matchMedia("(display-mode: standalone)").matches?"standalone":"browser tab";if("standalone"===e){function t(){document.body.classList.add("pwa-navigation")}window.onbeforeunload=t}}),document.querySelectorAll(".remove-underline-js, .cta-holder a").forEach(function(e){e.addEventListener("mouseenter",function(){this.parentElement.parentElement.classList.add("no-underline")}),e.addEventListener("mouseleave",function(){this.parentElement.parentElement.classList.remove("no-underline")})}),document.addEventListener("scroll",{passive:!0}),document.addEventListener("scroll",e=>{scrollDirectionMenu(),numbersCounter(),acessibilityPanelHide()}),document.addEventListener("DOMContentLoaded",()=>{numbersCounter()}),window.addEventListener("resize",function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){clearOverlayScroll()},200)}),window.TrackingSystem=function(){function e(){const e=document.documentElement.lang||"default";return e.split("-")[0].toLowerCase()}function t(e,t){const n=e.dataset.trackEvent,a=e.dataset.trackPlatforms,o=a?a.split(","):[];let r={};try{r=JSON.parse(e.dataset.trackMeta||"{}")}catch(e){console.error("Invalid metadata JSON:",e)}o.forEach(function(e){s[e]&&s[e](n,r)}),"a"===e.tagName.toLowerCase()&&e.href&&(t.preventDefault(),setTimeout(function(){window.location.href=e.href},100))}function n(){document.addEventListener("click",function(e){const n=e.target.closest("[data-track]");n&&t(n,e)}),document.addEventListener("submit",function(e){const n=e.target.closest("[data-track]");n&&t(n,e)})}function a(){const t=document.querySelectorAll("[data-track]"),n=Array.from(t).map(function(e){const t=e.dataset.trackPlatforms;return{element:e.tagName.toLowerCase(),event:e.dataset.trackEvent,platforms:t?t.split(","):[],metadata:JSON.parse(e.dataset.trackMeta||"{}")}});console.log({documentLang:document.documentElement.lang,detectedLang:e(),trackingElements:n,platformsAvailable:{linkedin:"function"==typeof window.lintrk,facebook:"function"==typeof window.fbq,analytics:"function"==typeof window.gtag}})}const o={linkedin:{it:{contact:20851897,download:20851898,form_submit:20851899},en:{contact:20851900,download:20851901,form_submit:20851902},default:{contact:20851897,download:20851898,form_submit:20851899}},facebook:{it:{contact:"FB123",download:"FB124",form_submit:"FB125"},en:{contact:"FB126",download:"FB127",form_submit:"FB128"},default:{contact:"FB123",download:"FB124",form_submit:"FB125"}},analytics:{all:{contact:"contact_event",download:"download_event",form_submit:"form_submit_event"}}},s={linkedin:function(t,n){const a=e(),s=o.linkedin[a]||o.linkedin.default,r=s[t];window.lintrk&&r&&(window.lintrk("track",{conversion_id:r}),console.log("LinkedIn track:",{eventName:t,conversionId:r,metadata:n}))},facebook:function(t,n){const a=e(),s=o.facebook[a]||o.facebook.default,r=s[t];if(window.fbq&&r){const e=["AddPaymentInfo","AddToCart","AddToWishlist","CompleteRegistration","Contact","CustomizeProduct","Donate","FindLocation","InitiateCheckout","Lead","PageView","Purchase","Schedule","Search","StartTrial","SubmitApplication","Subscribe","ViewContent"];e.includes(r)?window.fbq("track",r,n):window.fbq("trackCustom",r,n),console.log("Facebook track:",{eventName:t,eventId:r,metadata:n})}},analytics:function(e,t){const n=o.analytics.all,a=n[e];window.gtag&&a&&(window.gtag("event",a,{event_category:t.category,event_label:t.label}),console.log("Analytics track:",{eventName:e,gaEventName:a,metadata:t}))}};return{init:n,track:t,debug:a}}(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",window.TrackingSystem.init):window.TrackingSystem.init(),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll("[data-url-copy]");e.forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("data-url-copy");t&&navigator.clipboard.writeText(t).then(()=>{const e=this.textContent;this.textContent="URL copiato!",setTimeout(()=>{this.textContent=e},2e3)}).catch(e=>{console.error("Errore durante la copia: ",e)})}),e.style.cursor="pointer",e.getAttribute("title")||e.setAttribute("title","Clicca per copiare l'URL")})});