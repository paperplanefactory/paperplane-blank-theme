let deferredPrompt;async function installApp(){if(deferredPrompt){deferredPrompt.prompt(),showResult("ðŸ†— Installation Dialog opened");const{outcome:outcome}=await deferredPrompt.userChoice;deferredPrompt=null,"accepted"===outcome?showResult("ðŸ˜€ User accepted the install prompt.",!0):"dismissed"===outcome&&showResult("ðŸ˜Ÿ User dismissed the install prompt"),document.querySelector("#install").style.display="none"}}function showResult(text,append=!1){}navigator.serviceWorker.register("sw.js"),window.addEventListener("DOMContentLoaded",async event=>{"BeforeInstallPromptEvent"in window?showResult("â³ BeforeInstallPromptEvent supported but not fired yet"):showResult("âŒ BeforeInstallPromptEvent NOT supported"),document.querySelector("#install").addEventListener("click",installApp)}),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),deferredPrompt=e,document.querySelector("#install").style.display="block",showResult("âœ… BeforeInstallPromptEvent fired",!0)}),window.addEventListener("appinstalled",e=>{showResult("âœ… AppInstalled fired",!0)});