let deferredPrompt;async function installApp(){if(deferredPrompt){deferredPrompt.prompt(),showResult("🆗 Installation Dialog opened");const{outcome:outcome}=await deferredPrompt.userChoice;deferredPrompt=null,"accepted"===outcome?showResult("😀 User accepted the install prompt.",!0):"dismissed"===outcome&&showResult("😟 User dismissed the install prompt"),document.querySelector("#install").style.display="none"}}function showResult(text,append=!1){}navigator.serviceWorker.register("sw.js"),window.addEventListener("DOMContentLoaded",async event=>{"BeforeInstallPromptEvent"in window?showResult("⏳ BeforeInstallPromptEvent supported but not fired yet"):showResult("❌ BeforeInstallPromptEvent NOT supported"),document.querySelector("#install").addEventListener("click",installApp)}),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),deferredPrompt=e,document.querySelector("#install").style.display="block",showResult("✅ BeforeInstallPromptEvent fired",!0)}),window.addEventListener("appinstalled",e=>{showResult("✅ AppInstalled fired",!0)});